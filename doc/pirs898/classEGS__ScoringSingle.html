<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_ScoringSingle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_ScoringSingle Class Reference<div class="ingroups"><a class="el" href="group__egspp__main.html">Main library</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_ScoringSingle" -->
<p>A class for scoring a single quantity of interest in a Monte Carlo simulation.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>&gt;</code></p>

<p><a href="classEGS__ScoringSingle-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a410976751bddb1996f7acbedf0ba74dd"></a><!-- doxytag: member="EGS_ScoringSingle::EGS_ScoringSingle" ref="a410976751bddb1996f7acbedf0ba74dd" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a410976751bddb1996f7acbedf0ba74dd">EGS_ScoringSingle</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a scoring object initialized to zero. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#aa56dff62db8cbdc37671386aa2f52185">score</a> (unsigned short ncase, EGS_Float f)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add <em>f</em> to the score of the <em>ncase'th</em> statistically independent event.  <a href="#aa56dff62db8cbdc37671386aa2f52185"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada42381434b518b9ceaf4496757b3ac6"></a><!-- doxytag: member="EGS_ScoringSingle::finishCase" ref="ada42381434b518b9ceaf4496757b3ac6" args="(unsigned short new_case, EGS_Float new_result)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#ada42381434b518b9ceaf4496757b3ac6">finishCase</a> (unsigned short new_case, EGS_Float new_result)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish the current 'case' (event) and start a new event with index <em>new_case</em> and a score of <em>new_result</em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fa9c6e68312262f0886d8a8a6d6e04a"></a><!-- doxytag: member="EGS_ScoringSingle::currentScore" ref="a1fa9c6e68312262f0886d8a8a6d6e04a" args="() const " -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a1fa9c6e68312262f0886d8a8a6d6e04a">currentScore</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the score of the current event. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07a3b4da91371d21bf59e5781656956e"></a><!-- doxytag: member="EGS_ScoringSingle::currentScore" ref="a07a3b4da91371d21bf59e5781656956e" args="(EGS_Float &amp;s, unsigned short &amp;ncase) const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a07a3b4da91371d21bf59e5781656956e">currentScore</a> (EGS_Float &amp;s, unsigned short &amp;ncase) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets <em>s</em> to the score of the current event and <em>ncase</em> to the index of the current event. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c6b764931bf8a8e848be0d3c21b4982"></a><!-- doxytag: member="EGS_ScoringSingle::currentScore" ref="a7c6b764931bf8a8e848be0d3c21b4982" args="(double &amp;s, double &amp;s2)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a7c6b764931bf8a8e848be0d3c21b4982">currentScore</a> (double &amp;s, double &amp;s2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets <em>s</em> to the sum of scores collected so far and <em>s2</em> to the sum of scores squared. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#af3d9531fdcb666df978838192a8a247c">currentResult</a> (EGS_I64 ncase, double &amp;r, double &amp;dr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets <em>r</em> to the current result and <em>dr</em> to its statistical uncertainty assuming <em>ncase</em> statistically independent events.  <a href="#af3d9531fdcb666df978838192a8a247c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a10dbf2c6647ebedd1cf8ad2740037f41">storeState</a> (ostream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the state of the scoring object into the data stream <em>data</em>. Returns <code>true</code> on success, <em>false</em> on failure.  <a href="#a10dbf2c6647ebedd1cf8ad2740037f41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a00b4d4d313b4c508c49f53239b777bd9">setState</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the scoring object from the data stream <em>data</em>.  <a href="#a00b4d4d313b4c508c49f53239b777bd9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba5bdf241c9a0e04de337f86e20fb106"></a><!-- doxytag: member="EGS_ScoringSingle::reset" ref="aba5bdf241c9a0e04de337f86e20fb106" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#aba5bdf241c9a0e04de337f86e20fb106">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the scoring object to a pristine state (<em>i.e</em>. all counters set to zero). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEGS__ScoringSingle.html">EGS_ScoringSingle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#aa981df0911df78c34800d93a7798ded4">operator+=</a> (const <a class="el" href="classEGS__ScoringSingle.html">EGS_ScoringSingle</a> &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine the results of two scoring objects.  <a href="#aa981df0911df78c34800d93a7798ded4"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a9d08ad79b0cab5a1ced1c9033a003e84">sum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a3ebc8883a3be9cf6ff8e97256325857e">sum2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a25d3b66fb70bb72546b3b6a381eaa38b">tmp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__ScoringSingle.html#a06aa322462bd7e89ddcd85985548c38c">current_ncase</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class for scoring a single quantity of interest in a Monte Carlo simulation. </p>
<p>This class implements most of the functionality needed for scoring a single quantity of interest in a Monte Carlo simulation, including a history-by-history statistical analysis. However, as this class is meant to be used by <a class="el" href="classEGS__ScoringArray.html" title="A class for scoring an array of quantities (e.g. a dose distribution) in a Monte Carlo simulation...">EGS_ScoringArray</a> for collecting results of potentially a large number of quantities (<em>e.g</em>. a 3D dose distribution in a XYZ patient geometry), the history counter is represented with an unsigned 16 bit integer and therefore the maximum number of different histories is 65536. Hence, for real applications, it is easier to use the <a class="el" href="classEGS__ScoringArray.html" title="A class for scoring an array of quantities (e.g. a dose distribution) in a Monte Carlo simulation...">EGS_ScoringArray</a> class even for a single quantity of interest. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00063">63</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa56dff62db8cbdc37671386aa2f52185"></a><!-- doxytag: member="EGS_ScoringSingle::score" ref="aa56dff62db8cbdc37671386aa2f52185" args="(unsigned short ncase, EGS_Float f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_ScoringSingle::score </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>ncase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add <em>f</em> to the score of the <em>ncase'th</em> statistically independent event. </p>
<p>If <em>ncase</em> is the same as the <em>ncase</em> passed in the last call to this function, then <em>f</em> is simply added to the score of the current event, otherwise a new statistically independent event is started. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00078">78</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

</div>
</div>
<a class="anchor" id="af3d9531fdcb666df978838192a8a247c"></a><!-- doxytag: member="EGS_ScoringSingle::currentResult" ref="af3d9531fdcb666df978838192a8a247c" args="(EGS_I64 ncase, double &amp;r, double &amp;dr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_ScoringSingle::currentResult </td>
          <td>(</td>
          <td class="paramtype">EGS_I64&#160;</td>
          <td class="paramname"><em>ncase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets <em>r</em> to the current result and <em>dr</em> to its statistical uncertainty assuming <em>ncase</em> statistically independent events. </p>
<p>This function sets <em>r</em> to the ratio of the sum of scores collected so far and <em>ncase</em> and <em>dr</em> to the statistical uncertainty of <em>r</em>. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00122">122</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

<p>Referenced by <a class="el" href="egs__scoring_8cpp_source.html#l00071">EGS_ScoringArray::reportResults()</a>.</p>

</div>
</div>
<a class="anchor" id="a10dbf2c6647ebedd1cf8ad2740037f41"></a><!-- doxytag: member="EGS_ScoringSingle::storeState" ref="a10dbf2c6647ebedd1cf8ad2740037f41" args="(ostream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EGS_ScoringSingle::storeState </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores the state of the scoring object into the data stream <em>data</em>. Returns <code>true</code> on success, <em>false</em> on failure. </p>
<p>This function can be used for storing intermediate results into a data file for later recovery in <em>e.g</em>. restarted calculations. The data stored is the sum of scores, sum of scores squared and the 16 bit integer representing the last statistically independent event that contributed to the score.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__ScoringSingle.html#a00b4d4d313b4c508c49f53239b777bd9" title="Set the state of the scoring object from the data stream data.">setState()</a>. </dd></dl>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00144">144</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

</div>
</div>
<a class="anchor" id="a00b4d4d313b4c508c49f53239b777bd9"></a><!-- doxytag: member="EGS_ScoringSingle::setState" ref="a00b4d4d313b4c508c49f53239b777bd9" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EGS_ScoringSingle::setState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the state of the scoring object from the data stream <em>data</em>. </p>
<p>The data extracted from the stream is the 16 bit integer representing the last statistically independent event that contributed to the score, the sum of scores and the sum of scores squared (both double precision).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__ScoringSingle.html#a10dbf2c6647ebedd1cf8ad2740037f41" title="Stores the state of the scoring object into the data stream data. Returns true on success...">storeState()</a> </dd></dl>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00161">161</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa981df0911df78c34800d93a7798ded4"></a><!-- doxytag: member="EGS_ScoringSingle::operator+=" ref="aa981df0911df78c34800d93a7798ded4" args="(const EGS_ScoringSingle &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEGS__ScoringSingle.html">EGS_ScoringSingle</a>&amp; EGS_ScoringSingle::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEGS__ScoringSingle.html">EGS_ScoringSingle</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Combine the results of two scoring objects. </p>
<p>This operator adds the results of the scoring object <em>x</em> to the results collected so far by the invoking object, assuming that <em>x</em> is statistically independent. This method is useful for combining parallel runs. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00184">184</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

<p>References <a class="el" href="egs__scoring_8h_source.html#l00190">sum</a>, <a class="el" href="egs__scoring_8h_source.html#l00198">sum2</a>, and <a class="el" href="egs__scoring_8h_source.html#l00200">tmp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9d08ad79b0cab5a1ced1c9033a003e84"></a><!-- doxytag: member="EGS_ScoringSingle::sum" ref="a9d08ad79b0cab5a1ced1c9033a003e84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classEGS__ScoringSingle.html#a9d08ad79b0cab5a1ced1c9033a003e84">EGS_ScoringSingle::sum</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sum of scores collected so far by the scoring object. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00190">190</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

<p>Referenced by <a class="el" href="egs__scoring_8h_source.html#l00184">operator+=()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ebc8883a3be9cf6ff8e97256325857e"></a><!-- doxytag: member="EGS_ScoringSingle::sum2" ref="a3ebc8883a3be9cf6ff8e97256325857e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classEGS__ScoringSingle.html#a3ebc8883a3be9cf6ff8e97256325857e">EGS_ScoringSingle::sum2</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sum of scores squared collected so far by the scoring object. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00198">198</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

<p>Referenced by <a class="el" href="egs__scoring_8h_source.html#l00184">operator+=()</a>.</p>

</div>
</div>
<a class="anchor" id="a25d3b66fb70bb72546b3b6a381eaa38b"></a><!-- doxytag: member="EGS_ScoringSingle::tmp" ref="a25d3b66fb70bb72546b3b6a381eaa38b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_Float <a class="el" href="classEGS__ScoringSingle.html#a25d3b66fb70bb72546b3b6a381eaa38b">EGS_ScoringSingle::tmp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The score of the current event. </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00200">200</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

<p>Referenced by <a class="el" href="egs__scoring_8h_source.html#l00184">operator+=()</a>.</p>

</div>
</div>
<a class="anchor" id="a06aa322462bd7e89ddcd85985548c38c"></a><!-- doxytag: member="EGS_ScoringSingle::current_ncase" ref="a06aa322462bd7e89ddcd85985548c38c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="classEGS__ScoringSingle.html#a06aa322462bd7e89ddcd85985548c38c">EGS_ScoringSingle::current_ncase</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The index of the current statistically independent event </p>

<p>Definition at line <a class="el" href="egs__scoring_8h_source.html#l00202">202</a> of file <a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/<a class="el" href="egs__scoring_8h_source.html">egs_scoring.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
