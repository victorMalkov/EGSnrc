<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_StackGeometry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_StackGeometry Class Reference<div class="ingroups"><a class="el" href="group__Geometry.html">Geometry module</a> &#124; <a class="el" href="group__CompositeG.html">Composite Geometries</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_StackGeometry" --><!-- doxytag: inherits="EGS_BaseGeometry" -->
<p>A stack of geometries.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__stack__geometry_8h_source.html">egs_stack_geometry.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_StackGeometry:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__StackGeometry.png" usemap="#EGS_StackGeometry_map" alt=""/>
  <map id="EGS_StackGeometry_map" name="EGS_StackGeometry_map">
<area href="classEGS__BaseGeometry.html" alt="EGS_BaseGeometry" shape="rect" coords="0,0,129,24"/>
</map>
 </div></div>

<p><a href="classEGS__StackGeometry-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a775635ec53c58f413247443191341b72"></a><!-- doxytag: member="EGS_StackGeometry::EGS_StackGeometry" ref="a775635ec53c58f413247443191341b72" args="(const vector&lt; EGS_BaseGeometry * &gt; &amp;geoms, EGS_Float Tol=1e&#45;4, const string &amp;Name=&quot;&quot;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__StackGeometry.html#a775635ec53c58f413247443191341b72">EGS_StackGeometry</a> (const vector&lt; <a class="el" href="classEGS__BaseGeometry.html">EGS_BaseGeometry</a> * &gt; &amp;geoms, EGS_Float Tol=1e-4, const string &amp;Name=&quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a geometry stack from the vector of geometries <em>geom</em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac12cd6f9ac891c5313cf965e21e37918"></a><!-- doxytag: member="EGS_StackGeometry::isRealRegion" ref="ac12cd6f9ac891c5313cf965e21e37918" args="(int ireg) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isRealRegion</b> (int ireg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf6b32b599ee234cec6d6b06f3b647b0"></a><!-- doxytag: member="EGS_StackGeometry::isInside" ref="acf6b32b599ee234cec6d6b06f3b647b0" args="(const EGS_Vector &amp;x)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isInside</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7528d5dfc3dbe6d520b18d3fc0d00e7"></a><!-- doxytag: member="EGS_StackGeometry::isWhere" ref="ae7528d5dfc3dbe6d520b18d3fc0d00e7" args="(const EGS_Vector &amp;x)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>isWhere</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70d479a53676e55b3aef29ea125038c6"></a><!-- doxytag: member="EGS_StackGeometry::inside" ref="a70d479a53676e55b3aef29ea125038c6" args="(const EGS_Vector &amp;x)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>inside</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fe48a8f5b0e9d78caa52b39eea46d38"></a><!-- doxytag: member="EGS_StackGeometry::medium" ref="a1fe48a8f5b0e9d78caa52b39eea46d38" args="(int ireg) const " -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>medium</b> (int ireg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ca59601185c93c1b697ab94fe143cf8"></a><!-- doxytag: member="EGS_StackGeometry::howfar" ref="a6ca59601185c93c1b697ab94fe143cf8" args="(int ireg, const EGS_Vector &amp;x, const EGS_Vector &amp;u, EGS_Float &amp;t, int *newmed=0, EGS_Vector *normal=0)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>howfar</b> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;t, int *newmed=0, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> *normal=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2af24e49d0ae5285b2b296c30ac9ee8b"></a><!-- doxytag: member="EGS_StackGeometry::hownear" ref="a2af24e49d0ae5285b2b296c30ac9ee8b" args="(int ireg, const EGS_Vector &amp;x)" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>hownear</b> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5c361b9869f5c5acdfbc9a4c833bb79"></a><!-- doxytag: member="EGS_StackGeometry::hasBooleanProperty" ref="ae5c361b9869f5c5acdfbc9a4c833bb79" args="(int ireg, EGS_BPType prop) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasBooleanProperty</b> (int ireg, EGS_BPType prop) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90b27ff4d1b4922d6c6a97b6908add89"></a><!-- doxytag: member="EGS_StackGeometry::setBooleanProperty" ref="a90b27ff4d1b4922d6c6a97b6908add89" args="(EGS_BPType)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBooleanProperty</b> (EGS_BPType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d0c1dd4d5dfa316014c00668143210d"></a><!-- doxytag: member="EGS_StackGeometry::addBooleanProperty" ref="a7d0c1dd4d5dfa316014c00668143210d" args="(int)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>addBooleanProperty</b> (int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff5942a6451e84c52825bdae5ea61691"></a><!-- doxytag: member="EGS_StackGeometry::setBooleanProperty" ref="aff5942a6451e84c52825bdae5ea61691" args="(EGS_BPType, int, int, int step=1)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBooleanProperty</b> (EGS_BPType, int, int, int step=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a862856180cc6b4bd81af850d91e17af4"></a><!-- doxytag: member="EGS_StackGeometry::addBooleanProperty" ref="a862856180cc6b4bd81af850d91e17af4" args="(int, int, int, int step=1)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>addBooleanProperty</b> (int, int, int, int step=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf42482f83ca100254ca9b52fe1c74be"></a><!-- doxytag: member="EGS_StackGeometry::getType" ref="acf42482f83ca100254ca9b52fe1c74be" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getType</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cb2eab5b2f88e7cf8acc6df1f366dc0"></a><!-- doxytag: member="EGS_StackGeometry::printInfo" ref="a4cb2eab5b2f88e7cf8acc6df1f366dc0" args="() const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>printInfo</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26691d774d9caf7792179dadb96b03ce"></a><!-- doxytag: member="EGS_StackGeometry::getRelativeRho" ref="a26691d774d9caf7792179dadb96b03ce" args="(int ireg) const " -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getRelativeRho</b> (int ireg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8543ed9089d1f46b4ae105f345e07852"></a><!-- doxytag: member="EGS_StackGeometry::setRelativeRho" ref="a8543ed9089d1f46b4ae105f345e07852" args="(int start, int end, EGS_Float rho)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRelativeRho</b> (int start, int end, EGS_Float rho)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a715fb09beeae05411d859bc0dda66149"></a><!-- doxytag: member="EGS_StackGeometry::setRelativeRho" ref="a715fb09beeae05411d859bc0dda66149" args="(EGS_Input *)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRelativeRho</b> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02a50eb64deb69384f142a635eb7602f"></a><!-- doxytag: member="EGS_StackGeometry::getLabelRegions" ref="a02a50eb64deb69384f142a635eb7602f" args="(const string &amp;str, vector&lt; int &gt; &amp;regs)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>getLabelRegions</b> (const string &amp;str, vector&lt; int &gt; &amp;regs)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2bba84bcf221aabd89845f00707b660a"></a><!-- doxytag: member="EGS_StackGeometry::setMedia" ref="a2bba84bcf221aabd89845f00707b660a" args="(EGS_Input *, int, const int *)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMedia</b> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *, int, const int *)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e900a9254bb2f8a2e4ce178bcf90937"></a><!-- doxytag: member="EGS_StackGeometry::ng" ref="a8e900a9254bb2f8a2e4ce178bcf90937" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>ng</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae76285e065d39028cb48028013a2b1f7"></a><!-- doxytag: member="EGS_StackGeometry::nmax" ref="ae76285e065d39028cb48028013a2b1f7" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>nmax</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada86d3a0b44a9133f4d75b26b56d1982"></a><!-- doxytag: member="EGS_StackGeometry::g" ref="ada86d3a0b44a9133f4d75b26b56d1982" args="" -->
<a class="el" href="classEGS__BaseGeometry.html">EGS_BaseGeometry</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>g</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e3c51fb3e908a686b237d38e5277447"></a><!-- doxytag: member="EGS_StackGeometry::eps" ref="a2e3c51fb3e908a686b237d38e5277447" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>eps</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9f8c1e4d448d32390f6b34bd1fcd8d0"></a><!-- doxytag: member="EGS_StackGeometry::stack_labels" ref="ac9f8c1e4d448d32390f6b34bd1fcd8d0" args="" -->
vector&lt; <a class="el" href="classlabel.html">label</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>stack_labels</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99f99644ad682e8c02dda37e823596f4"></a><!-- doxytag: member="EGS_StackGeometry::type" ref="a99f99644ad682e8c02dda37e823596f4" args="" -->
static string&#160;</td><td class="memItemRight" valign="bottom"><b>type</b> = &quot;EGS_StackGeometry&quot;</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A stack of geometries. </p>
<p>A stack of geometries is conceptually similar to a <a class="el" href="classEGS__UnionGeometry.html">geometry union </a> except that additional restrictions are made, which permit a more efficient implementation of the various geometry methods:</p>
<ul>
<li>Geometries in a stack should not overlap. This way there is no need for a priority and all related checks.</li>
<li>A particle outside of a geometry stack can only enter the stack from the first or last geometry in the list of geometries.</li>
<li>When a particle exits the <img class="formulaInl" alt="$j$" src="form_13.png"/>'th geometry in a stack, it can only enter the <img class="formulaInl" alt="$j+1$" src="form_150.png"/>'st or <img class="formulaInl" alt="$j-1$" src="form_151.png"/>'st geometry.</li>
</ul>
<p>Due to these limitations, a geometry stack is less general and therefore presumably less useful than a geometry union. However, if the geometry under consideration is such that it can be represented as a stack of geometries, the simulation may be substantially more efficient compared to a union, particularly when there are many geometries in the stack. A typical example of a geometry stack is the geometry package of the BEAMnrc code, which is built from "component modules" (corresponding to the geometry objects in this implementation), put together one after the other. The <a class="el" href="classEGS__StackGeometry.html" title="A stack of geometries.">EGS_StackGeometry</a> class is of course much more versatile than the BEAMnrc geometry as it permits to have an arbitrary number of geometries of arbitrary type, dynamically determined at run time from the user input, instead of a fixed set of component modules determined when the BEAMnrc accelerator is built and compiled.</p>
<p>A geometry stack is defined in the input file using the following keys: </p>
<div class="fragment"><pre class="fragment">
library = egs_gstack
geometries = list of names of previously defined geometries
tolerance = small floating number
</pre></div><p> The tolerance key defines a small floating point number <img class="formulaInl" alt="$\epsilon$" src="form_152.png"/>. Each time a particle exits a geometry, its position is moved by <img class="formulaInl" alt="$\epsilon$" src="form_152.png"/> along its direction of motion. This is needed to avoid numericall roundoff problems that may result in the particle not having entered the next geometry in the stack and therefore being discarded. </p>

<p>Definition at line <a class="el" href="egs__stack__geometry_8h_source.html#l00111">111</a> of file <a class="el" href="egs__stack__geometry_8h_source.html">egs_stack_geometry.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/geometry/egs_gstack/<a class="el" href="egs__stack__geometry_8h_source.html">egs_stack_geometry.h</a></li>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/geometry/egs_gstack/<a class="el" href="egs__stack__geometry_8cpp_source.html">egs_stack_geometry.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
