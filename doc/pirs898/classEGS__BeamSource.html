<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_BeamSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_BeamSource Class Reference<div class="ingroups"><a class="el" href="group__Sources.html">Particle sources</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_BeamSource" --><!-- doxytag: inherits="EGS_BaseSource" -->
<p>A BEAM simulation source.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__beam__source_8h_source.html">egs_beam_source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_BeamSource:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__BeamSource.png" usemap="#EGS_BeamSource_map" alt=""/>
  <map id="EGS_BeamSource_map" name="EGS_BeamSource_map">
<area href="classEGS__BaseSource.html" alt="EGS_BaseSource" shape="rect" coords="0,56,116,80"/>
<area href="classEGS__Object.html" alt="EGS_Object" shape="rect" coords="0,0,116,24"/>
</map>
 </div></div>

<p><a href="classEGS__BeamSource-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4acdbc7914aee4e08be567201f5dd836"></a><!-- doxytag: member="EGS_BeamSource::EGS_BeamSource" ref="a4acdbc7914aee4e08be567201f5dd836" args="(EGS_Input *, EGS_ObjectFactory *f=0)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BeamSource.html#a4acdbc7914aee4e08be567201f5dd836">EGS_BeamSource</a> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *, <a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *f=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a BEAM simulation source from the input <em>inp</em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11781fbde3e116d86ff78805b5f62484"></a><!-- doxytag: member="EGS_BeamSource::getNextParticle" ref="a11781fbde3e116d86ff78805b5f62484" args="(EGS_RandomGenerator *rndm, int &amp;q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, EGS_Vector &amp;x, EGS_Vector &amp;u)" -->
EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><b>getNextParticle</b> (<a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *rndm, int &amp;q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bf6183596bd9cf8cd30cddc5109ca08"></a><!-- doxytag: member="EGS_BeamSource::getEmax" ref="a7bf6183596bd9cf8cd30cddc5109ca08" args="() const " -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getEmax</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac14c9d29cbb4a82edf190db1c24553d3"></a><!-- doxytag: member="EGS_BeamSource::getFluence" ref="ac14c9d29cbb4a82edf190db1c24553d3" args="() const " -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getFluence</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3deb96c3379d1dc23e694e80a6a0388b"></a><!-- doxytag: member="EGS_BeamSource::storeState" ref="a3deb96c3379d1dc23e694e80a6a0388b" args="(ostream &amp;data) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>storeState</b> (ostream &amp;data) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82d245b823ef2c43d8f0ef99ae0cec57"></a><!-- doxytag: member="EGS_BeamSource::setState" ref="a82d245b823ef2c43d8f0ef99ae0cec57" args="(istream &amp;data)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>setState</b> (istream &amp;data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af71460eda5633708342a7c6722dac9a5"></a><!-- doxytag: member="EGS_BeamSource::addState" ref="af71460eda5633708342a7c6722dac9a5" args="(istream &amp;data)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>addState</b> (istream &amp;data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6239cc6c4c4ace026a65628ae5c200ac"></a><!-- doxytag: member="EGS_BeamSource::resetCounter" ref="a6239cc6c4c4ace026a65628ae5c200ac" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>resetCounter</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe5bb9c583512ce64322f51a2a4fa9d7"></a><!-- doxytag: member="EGS_BeamSource::isValid" ref="afe5bb9c583512ce64322f51a2a4fa9d7" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isValid</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4a162c2ce96756d957d70fe82162c5f"></a><!-- doxytag: member="EGS_BeamSource::setCutout" ref="aa4a162c2ce96756d957d70fe82162c5f" args="(EGS_Float xmin, EGS_Float xmax, EGS_Float ymin, EGS_Float ymax)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCutout</b> (EGS_Float xmin, EGS_Float xmax, EGS_Float ymin, EGS_Float ymax)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4261cf565737d21e8b81b32baf313ee"></a><!-- doxytag: member="EGS_BeamSource::lib" ref="ae4261cf565737d21e8b81b32baf313ee" args="" -->
<a class="el" href="classEGS__Library.html">EGS_Library</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BeamSource.html#ae4261cf565737d21e8b81b32baf313ee">lib</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The BEAMnrc user code library. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FinishFunction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BeamSource.html#ab6ba2ebfcfcb09d59d9ea151f726a1bd">finish</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d434e85caf37389cf35638d3e83286f"></a><!-- doxytag: member="EGS_BeamSource::sample" ref="a0d434e85caf37389cf35638d3e83286f" args="" -->
SampleFunction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BeamSource.html#a0d434e85caf37389cf35638d3e83286f">sample</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function that returns the next particle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a9843dc6dffc3fe8bf94ff270424b23"></a><!-- doxytag: member="EGS_BeamSource::is_valid" ref="a2a9843dc6dffc3fe8bf94ff270424b23" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_valid</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73dec9cbb2d7a73cd49159e6989656d9"></a><!-- doxytag: member="EGS_BeamSource::the_file_name" ref="a73dec9cbb2d7a73cd49159e6989656d9" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>the_file_name</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ee4e87c31cb332149e10bec5b14e7dd"></a><!-- doxytag: member="EGS_BeamSource::the_file" ref="a1ee4e87c31cb332149e10bec5b14e7dd" args="" -->
ifstream&#160;</td><td class="memItemRight" valign="bottom"><b>the_file</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8a65382bf93e8f6ef9c0344d7481f08"></a><!-- doxytag: member="EGS_BeamSource::Emax" ref="ad8a65382bf93e8f6ef9c0344d7481f08" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>Emax</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4b7792e273fa5dfb69686da87da534c"></a><!-- doxytag: member="EGS_BeamSource::count" ref="aa4b7792e273fa5dfb69686da87da534c" args="" -->
EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><b>count</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75e6f09be56e221f571b2f1e0c0fdfc5"></a><!-- doxytag: member="EGS_BeamSource::particle_type" ref="a75e6f09be56e221f571b2f1e0c0fdfc5" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>particle_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b508e8ed42b54bdef37d7d9b3fee484"></a><!-- doxytag: member="EGS_BeamSource::Xmin" ref="a7b508e8ed42b54bdef37d7d9b3fee484" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>Xmin</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb1a0d57584f6657f6ba05ff9f29ee78"></a><!-- doxytag: member="EGS_BeamSource::Xmax" ref="aeb1a0d57584f6657f6ba05ff9f29ee78" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>Xmax</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c358bc78a9cd99e066ab49d747a9561"></a><!-- doxytag: member="EGS_BeamSource::Ymin" ref="a8c358bc78a9cd99e066ab49d747a9561" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>Ymin</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4a33754fc148774eaa203a71c91da8d"></a><!-- doxytag: member="EGS_BeamSource::Ymax" ref="ac4a33754fc148774eaa203a71c91da8d" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>Ymax</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f62bb8c0853a61b0783b4edcfe375e4"></a><!-- doxytag: member="EGS_BeamSource::wmin" ref="a4f62bb8c0853a61b0783b4edcfe375e4" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>wmin</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adebced68e81bd36d5d3c09012624585c"></a><!-- doxytag: member="EGS_BeamSource::wmax" ref="adebced68e81bd36d5d3c09012624585c" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>wmax</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a683f46fe28811e5a1e18643f82420f80"></a><!-- doxytag: member="EGS_BeamSource::q_save" ref="a683f46fe28811e5a1e18643f82420f80" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>q_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f47583d99638f3884c9961d5b6d1ec9"></a><!-- doxytag: member="EGS_BeamSource::latch_save" ref="a3f47583d99638f3884c9961d5b6d1ec9" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>latch_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0234d525af2b1d37f0b606b7fdfc2d42"></a><!-- doxytag: member="EGS_BeamSource::E_save" ref="a0234d525af2b1d37f0b606b7fdfc2d42" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>E_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a045ccb7c6ac351972179df4b62784d57"></a><!-- doxytag: member="EGS_BeamSource::wt_save" ref="a045ccb7c6ac351972179df4b62784d57" args="" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>wt_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a839d81b010acca3fa80430285e5aa575"></a><!-- doxytag: member="EGS_BeamSource::x_save" ref="a839d81b010acca3fa80430285e5aa575" args="" -->
<a class="el" href="classEGS__Vector.html">EGS_Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>x_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab07a651b85311849ebda1164c825b61f"></a><!-- doxytag: member="EGS_BeamSource::u_save" ref="ab07a651b85311849ebda1164c825b61f" args="" -->
<a class="el" href="classEGS__Vector.html">EGS_Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>u_save</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24beb6e329ca32fdd64acb48e8db822e"></a><!-- doxytag: member="EGS_BeamSource::n_reuse_photon" ref="a24beb6e329ca32fdd64acb48e8db822e" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>n_reuse_photon</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a922abb998b0d67d70c744966c07e464e"></a><!-- doxytag: member="EGS_BeamSource::n_reuse_electron" ref="a922abb998b0d67d70c744966c07e464e" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>n_reuse_electron</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9076333c2c30e489da3fafc85dcc056c"></a><!-- doxytag: member="EGS_BeamSource::i_reuse_photon" ref="a9076333c2c30e489da3fafc85dcc056c" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>i_reuse_photon</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89da19dda1e8e350eb17ae1876d9cce0"></a><!-- doxytag: member="EGS_BeamSource::i_reuse_electron" ref="a89da19dda1e8e350eb17ae1876d9cce0" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>i_reuse_electron</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A BEAM simulation source. </p>
<p>A BEAM simulation source is a source that dynamically loads a BEAM user code compiled into a shared library and then uses this to peform a full BEAM simulation returning particles crossing the BEAM scoring plane. This is explained in more details in a paper by E. Tonkopi et al.</p>
<p>A beam simulation source is defined using the following input: </p>
<div class="fragment"><pre class="fragment">
library = egs_beam_source
beam code = the name of the BEAMnrc user code
pegs file = the name of the PEGS file to be used in the BEAMnrc simulation
input file = the name of the input file specifying the BEAMnrc simulation
cutout = x1 x2 y1 y2 (optional)
particle type = all or electrons or photons or positrons or charged (optional)
weight window = wmin wmax
</pre></div><p> If the <code>cutout</code> key is present, all particles not passing through the rectangle specified by its left-upper and right-lower corners <code>(x1,y1)</code> and <code>(x2,y2)</code> will be rejected. With the optional <code>particle type</code> one can select a particular type of particles (default is <code>all</code>). If the <code>weight window</code> key is present, particles having statistical weights less than <code>wmin</code> or greater than <code>wmax</code> will be rejected. This is useful to <em>e.g</em>. reject "phat" particles from a simulation using DBS.</p>
<p><b>BEWARE:</b> When restarting calculations using this source, one must make sure that the <code>RESTART</code> calculation option is defined in both, the source and the application input files. </p>

<p>Definition at line <a class="el" href="egs__beam__source_8h_source.html#l00114">114</a> of file <a class="el" href="egs__beam__source_8h_source.html">egs_beam_source.h</a>.</p>
</div><hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ab6ba2ebfcfcb09d59d9ea151f726a1bd"></a><!-- doxytag: member="EGS_BeamSource::finish" ref="ab6ba2ebfcfcb09d59d9ea151f726a1bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FinishFunction <a class="el" href="classEGS__BeamSource.html#ab6ba2ebfcfcb09d59d9ea151f726a1bd">EGS_BeamSource::finish</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function to be called at the end of the simulation </p>

<p>Definition at line <a class="el" href="egs__beam__source_8h_source.html#l00162">162</a> of file <a class="el" href="egs__beam__source_8h_source.html">egs_beam_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__beam__source_8cpp_source.html#l00052">EGS_BeamSource()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/sources/egs_beam_source/<a class="el" href="egs__beam__source_8h_source.html">egs_beam_source.h</a></li>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/sources/egs_beam_source/<a class="el" href="egs__beam__source_8cpp_source.html">egs_beam_source.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
