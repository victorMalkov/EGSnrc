<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_Octree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>EGS_Octree Class Reference<div class="ingroups"><a class="el" href="group__Geometry.html">Geometry module</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_Octree" --><!-- doxytag: inherits="EGS_BaseGeometry" -->
<p>An octree geometryThe <a class="el" href="classEGS__Octree.html" title="An octree geometryThe EGS_Octree class implements an octree geometry. An octree is a partitioning sch...">EGS_Octree</a> class implements an octree geometry. An octree is a partitioning scheme for a 3D volume where cells are subdivided into 8 children cells (corresponding to the 8 octants making up the parent cell). Octrees are useful to partition space in multi-resolution fashion: portion of space requiring more details are further subdivided as needed.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__octree_8h_source.html">egs_octree.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_Octree:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__Octree.png" usemap="#EGS_Octree_map" alt=""/>
  <map id="EGS_Octree_map" name="EGS_Octree_map">
<area href="classEGS__BaseGeometry.html" alt="EGS_BaseGeometry" shape="rect" coords="0,0,126,24"/>
</map>
 </div></div>

<p><a href="classEGS__Octree-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1473c58118888656a09c92f7c524d173"></a><!-- doxytag: member="EGS_Octree::EGS_Octree" ref="a1473c58118888656a09c92f7c524d173" args="(vector&lt; EGS_Octree_bbox &gt; &amp;vBox, bool pruneTree, EGS_BaseGeometry *g)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>EGS_Octree</b> (vector&lt; <a class="el" href="classEGS__Octree__bbox.html">EGS_Octree_bbox</a> &gt; &amp;vBox, bool pruneTree, <a class="el" href="classEGS__BaseGeometry.html">EGS_BaseGeometry</a> *g)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fd956f10b3ff28aa81992c0094cc366"></a><!-- doxytag: member="EGS_Octree::statOctree" ref="a2fd956f10b3ff28aa81992c0094cc366" args="(EGS_Octree_node *node, vector&lt; EGS_Octree_bbox &gt; &amp;vBox)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>statOctree</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, vector&lt; <a class="el" href="classEGS__Octree__bbox.html">EGS_Octree_bbox</a> &gt; &amp;vBox)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c467aaf922921bcbf63ea3ae81c1052"></a><!-- doxytag: member="EGS_Octree::growOctree" ref="a5c467aaf922921bcbf63ea3ae81c1052" args="(EGS_Octree_node *node, vector&lt; EGS_Octree_bbox &gt; &amp;vBox, bool prune)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>growOctree</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, vector&lt; <a class="el" href="classEGS__Octree__bbox.html">EGS_Octree_bbox</a> &gt; &amp;vBox, bool prune)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa65f2c41b0db32bb9148642541b06712"></a><!-- doxytag: member="EGS_Octree::getNeighborNodeX" ref="aa65f2c41b0db32bb9148642541b06712" args="(EGS_Octree_node *node, int ixn, int iyn, int izn)" -->
<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getNeighborNodeX</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, int ixn, int iyn, int izn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20976614fcffe1f7023fefc18e4d926d"></a><!-- doxytag: member="EGS_Octree::getNeighborNodeY" ref="a20976614fcffe1f7023fefc18e4d926d" args="(EGS_Octree_node *node, int ixn, int iyn, int izn)" -->
<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getNeighborNodeY</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, int ixn, int iyn, int izn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6ccc5360fe1710ae89f90897ee0fa74"></a><!-- doxytag: member="EGS_Octree::getNeighborNodeZ" ref="af6ccc5360fe1710ae89f90897ee0fa74" args="(EGS_Octree_node *node, int ixn, int iyn, int izn)" -->
<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getNeighborNodeZ</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, int ixn, int iyn, int izn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d84a3555c17f17fa80c6983d13ad5d7"></a><!-- doxytag: member="EGS_Octree::getNode" ref="a4d84a3555c17f17fa80c6983d13ad5d7" args="(int ix, int iy, int iz)" -->
<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getNode</b> (int ix, int iy, int iz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93abb20f3e568dbb169659ca149dee27"></a><!-- doxytag: member="EGS_Octree::setIndices" ref="a93abb20f3e568dbb169659ca149dee27" args="(const EGS_Vector &amp;r, int &amp;ix, int &amp;iy, int &amp;iz)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setIndices</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r, int &amp;ix, int &amp;iy, int &amp;iz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9cdcfc9ee3e8d28f09f97fb227b9e1b"></a><!-- doxytag: member="EGS_Octree::isInside" ref="ae9cdcfc9ee3e8d28f09f97fb227b9e1b" args="(const EGS_Vector &amp;r)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isInside</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a720ade0f4cc8bf8fc14893d7b632edcc"></a><!-- doxytag: member="EGS_Octree::isWhere" ref="a720ade0f4cc8bf8fc14893d7b632edcc" args="(const EGS_Vector &amp;r)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>isWhere</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedad9f3e94da9794db00b718a1867a05"></a><!-- doxytag: member="EGS_Octree::inside" ref="aedad9f3e94da9794db00b718a1867a05" args="(const EGS_Vector &amp;r)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>inside</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae61962df0040200432c63f102ffaec71"></a><!-- doxytag: member="EGS_Octree::isWhereFast" ref="ae61962df0040200432c63f102ffaec71" args="(const EGS_Vector &amp;r)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>isWhereFast</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fc7bde17c9951f1a565306dde5230f7"></a><!-- doxytag: member="EGS_Octree::medium" ref="a8fc7bde17c9951f1a565306dde5230f7" args="(int ireg) const " -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>medium</b> (int ireg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6d5f46940935f6ecd8561a58456ffbd"></a><!-- doxytag: member="EGS_Octree::howfarIn" ref="af6d5f46940935f6ecd8561a58456ffbd" args="(EGS_Octree_node *node, const EGS_Vector &amp;r, const EGS_Vector &amp;u, EGS_Float &amp;t, EGS_Vector *normal=0)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>howfarIn</b> (<a class="el" href="classEGS__Octree__node.html">EGS_Octree_node</a> *node, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;t, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> *normal=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bab98c3069f85c81583a0525a73b41b"></a><!-- doxytag: member="EGS_Octree::howfarOut" ref="a9bab98c3069f85c81583a0525a73b41b" args="(const EGS_Vector &amp;r, const EGS_Vector &amp;u, EGS_Float &amp;t, EGS_Vector *normal=0)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>howfarOut</b> (const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;t, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> *normal=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae05266cfa15e84a16f710109aa0f1869"></a><!-- doxytag: member="EGS_Octree::howfar" ref="ae05266cfa15e84a16f710109aa0f1869" args="(int ireg, const EGS_Vector &amp;r, const EGS_Vector &amp;u, EGS_Float &amp;t, int *newmed, EGS_Vector *normal=0)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>howfar</b> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;t, int *newmed, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> *normal=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab94477b4782d9a5963d55b293fcf2f1a"></a><!-- doxytag: member="EGS_Octree::hownearIn" ref="ab94477b4782d9a5963d55b293fcf2f1a" args="(int ireg, const EGS_Vector &amp;r)" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>hownearIn</b> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a637febba7892212e74e873dea3d0df33"></a><!-- doxytag: member="EGS_Octree::hownear" ref="a637febba7892212e74e873dea3d0df33" args="(int ireg, const EGS_Vector &amp;r)" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>hownear</b> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acea17dfca0c96593b016d403fbb4223d"></a><!-- doxytag: member="EGS_Octree::getType" ref="acea17dfca0c96593b016d403fbb4223d" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getType</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5fe4fd9e8b9a167c12f09c5246f2639e"></a><!-- doxytag: member="EGS_Octree::printInfo" ref="a5fe4fd9e8b9a167c12f09c5246f2639e" args="() const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>printInfo</b> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An octree geometry</p>
<p>The <a class="el" href="classEGS__Octree.html" title="An octree geometryThe EGS_Octree class implements an octree geometry. An octree is a partitioning sch...">EGS_Octree</a> class implements an octree geometry. An octree is a partitioning scheme for a 3D volume where cells are subdivided into 8 children cells (corresponding to the 8 octants making up the parent cell). Octrees are useful to partition space in multi-resolution fashion: portion of space requiring more details are further subdivided as needed. </p>
<p>This class partitions an existing geometry into an octree such that leaf nodes are maximally collapsed according to the medium index, that is, adjacent children nodes with the same medium index are collapsed into their parent node (which then becomes a leaf), as much as possible. This means that portions of the child geometry with a uniform medium are represented as large cells rather than many smaller voxels.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The actual octree will usually spill out of the bounding box, because internally the number of cells must be the same along each axis and must be a power of 2. But the dimensions of the octree are adjusted such that the specified resolution will fit in the specified bounding box. Points outside the bounding box are considered to be outside the geometry. This means that some region numbers will be attributed to octree cells lying outside the bounding box, although in practice these region numbers will never be returned by the geometry.</dd></dl>
<p>An octree is defined as follows </p>
<div class="fragment"><pre class="fragment">

library = egs_octree
:start octree box:
    box min = Px Py Pz
    box max = Px Py Pz
    resolution = Nx Ny Nz
:stop octree box:
child geometry = g_name
discard child = yes or no
prune tree = yes or no

</pre></div><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Instead of taking the medium index at the midpoint position of the cells when building the octree, take the mode of the medium indices at a number of locations (possibly random) inside the cell.</dd></dl>

<p>Definition at line <a class="el" href="egs__octree_8h_source.html#l00518">518</a> of file <a class="el" href="egs__octree_8h_source.html">egs_octree.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/geometry/egs_octree/<a class="el" href="egs__octree_8h_source.html">egs_octree.h</a></li>
<li>/home/ftessier/EGSnrc/HEN_HOUSE/egs++/geometry/egs_octree/<a class="el" href="egs__octree_8cpp_source.html">egs_octree.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
